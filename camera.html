<body>
  <link rel="stylesheet" href="css/index.css">
  <script src="js/jquery.js"></script>
  <script src="js/camera.js"></script>
  <script src="js/adapter.min.js"></script>
  <script src="js/animate.min.js"></script>
  <title>Biscuit | Camera</title>
  <center>
    <div class="invisible">
      <canvas id="canvasuse" width="1280" height="960"></canvas>
    </div>

    <div id="captureForm">
      <div id="display" style="height:240px;width:320px;">
        <!-- If spacing is broken don't blame me, it it very fickle.-->
        <video style="opacity:1;position:fixed;z-index:1;" id="video" width="320" height="240" autoplay></video>
        <canvas id="canvas" style="opacity:0.5;position:fixed;z-index:10;" width="320" height="240"></canvas>
        <img style="opacity:0;" id="playback" src="#" width="320" height="240"></img>
      </div>
        <button id="snap" style="float:center;font-family:biscuit;" class="button">Take Frame</button>
        <br>
        <button class="button" style="margin-top:2px;float:center;font-family:biscuit;" id="btn-onion">Toggle Onion Skinning</button>
        <br>
        <button class="button" style="margin-top:2px;float:center;font-family:biscuit;" id="btn-playback">Playback</button>&nbsp;Framerate:&nbsp;
        <input value="24" id="framerate" type="text" style="margin-top:2px;height: 18px;width: 18px;border: 1px solid #DDB05B;border-radius:2px;">
        <br>
        <h3>Frames</h3>
        <button class="button" style="margin-top:2px;float:center;font-family:biscuit;" id="btn-download">Download Frames</button>
        <button class="button" style="margin-top:2px;float:center;font-family:biscuit;" id="btn-export">Export Video</button>&nbsp;Framerate:&nbsp;
        <input value="24" id="exframerate" type="text" style="margin-top:2px;height: 18px;width: 18px;border: 1px solid #DDB05B;border-radius:2px;">
        <a id="video-dl" href="#"></a>
        <div id="area-frame-preview">
        </div>
      </div>
      <script>
      function dynwindow(){
        winW = parent.winW
        var childvid = document.querySelector('#video');
        var scale = (1 + (1/3));
        var childcanvas = document.querySelector('#canvas');
        var childpbimg = document.querySelector('#playback');
        var containdiv = document.querySelector('#display');
        var dynwidth = parent.winW;
        childvid.width = (dynwidth / 2.5);
        var vidwidth = childvid.width;
        vidwidth = parseInt(vidwidth);
        var vidheight = vidwidth / scale;
        childvid.height = vidheight;
        childcanvas.height = vidheight;
        childpbimg.height = vidheight;
        childcanvas.width = vidwidth;
        containdiv.style.height = vidheight;
        containdiv.style.width = vidwidth;
        childpbimg.width = vidwidth;
      }
      setInterval('dynwindow()', 20);
      </script>
  </center>
</body>
